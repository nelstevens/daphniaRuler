<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Measure single images • daphniaruler</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Measure single images">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">daphniaruler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/installation_issues.html">Installation issues</a></li>
    <li><a class="dropdown-item" href="../articles/measure_directory.html">measure all images in a directory</a></li>
    <li><a class="dropdown-item" href="../articles/measure_single_image.html">Measure single images</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Measure single images</h1>
            
      

      <div class="d-none name"><code>measure_single_image.Rmd</code></div>
    </div>

    
    
<p>This article explains how to measure single images of daphnia to
produce a list containing several measurements and plot these
measurements onto the image.</p>
<div class="section level3">
<h3 id="load-the-package">1. Load the package<a class="anchor" aria-label="anchor" href="#load-the-package"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nelstevens.github.io/daphniaRuler">daphniaruler</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Trying to find python and conda</span></span>
<span><span class="co">#&gt; Trying to find conda environment 'daphniaRuler'</span></span>
<span><span class="co">#&gt; Activating conda environment 'daphniaruler'</span></span>
<span><span class="co">#&gt; done... have fun</span></span></code></pre></div>
<p>There should be no error messages when loading the package. In case
you experience issues see:<br><a href="https://nelstevens.github.io/daphniaRuler/articles/installation_issues.html" class="uri">https://nelstevens.github.io/daphniaRuler/articles/installation_issues.html</a></p>
</div>
<div class="section level3">
<h3 id="run-measure_image">2. run measure_image<a class="anchor" aria-label="anchor" href="#run-measure_image"></a>
</h3>
<p>Run the function measure_image. this function requires a single
argument, which is the path to the image. This path can be either
absolute or relative. The function also comes with three optional
arguments:</p>
<ul>
<li>find_eye</li>
<li>plot_image</li>
<li>scaling_factor</li>
</ul>
<p>find_eye expects a logical value (either TRUE or FALSE). When TRUE
the package will try to detect the eye of a daphnia within the image. If
successful the will be measurement from the eye to the base of the tail
and additionally a line from the base of the tail to the tip of the
tail. This should be the most accurate way the measure body size in
daphnia.<br>
plot_image also expects a logical value (either TRUE or FALSE). When
TRUE the function will create a plot of the image with the measurements
plotted over the image. Note that this feature might only work when
using rstudio.<br>
scaling_factor expect a numeric input. It describes how many pixels
occur in one unit of length. for example if 100 pixels correspond to 1mm
then the scaling_factor would be 100. You can calculate the scaling
factor with image analysis tools such as imageJ. If scaling_factor is
NULL all measurement outputs will correspond to pixels (no scaling
performed). Here’s an example what the function produces when having all
optional arguments set to default values (I’m disabling the output of
the image array due to space constraints):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/measure_image.html">measure_image</a></span><span class="op">(</span></span>
<span>  <span class="st">"../inst/sample_images/example1.JPG"</span>,</span>
<span>  find_eye <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_image <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scaling_factor <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="measure_single_image_files/figure-html/unnamed-chunk-2-1.png" width="576"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"image"</span><span class="op">]</span></span>
<span><span class="co">#&gt; $ID</span></span>
<span><span class="co">#&gt; [1] "sample_images/example1.JPG"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $perimeter</span></span>
<span><span class="co">#&gt; [1] 1038.189</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $area</span></span>
<span><span class="co">#&gt; [1] 65656.89</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $minor</span></span>
<span><span class="co">#&gt; [1] 207.7907</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $solidity</span></span>
<span><span class="co">#&gt; [1] 0.9856945</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $full.Length</span></span>
<span><span class="co">#&gt; [1] 406.9933</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tail.Length</span></span>
<span><span class="co">#&gt; [1] 124.5079</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $eye.Length</span></span>
<span><span class="co">#&gt; [1] 354.1952</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tail.angle</span></span>
<span><span class="co">#&gt; [1] 159.6364</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="what-should-the-image-look-like">What should the image look like<a class="anchor" aria-label="anchor" href="#what-should-the-image-look-like"></a>
</h3>
<p>The image ideally only contains a single individual. if other
individuals are also present in the image only the largest individual
will be measured. For optimal results try to make the image as sharp as
possible. Especially the outline of the specimen should be clearly
visible.</p>
</div>
<div class="section level3">
<h3 id="note-on-output-images">Note on output images<a class="anchor" aria-label="anchor" href="#note-on-output-images"></a>
</h3>
<p>Output images with measurements plotted over will be rescaled to
720*480p in order to save memory. However measurement outputs with
scaling_factor = NULL will correspond to pixels in the original image.
Thus measuring the drawn lines on output images with an image analysis
tool such as imageJ will show differing results.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nelson Stevens.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
