<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="daphniaruler">
<title>measure all images in a directory â€¢ daphniaruler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="measure all images in a directory">
<meta property="og:description" content="daphniaruler">
<meta property="og:image" content="https://nelstevens.github.io/daphniaRuler/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">daphniaruler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/installation_issues.html">Installation issues</a>
    <a class="dropdown-item" href="../articles/measure_directory.html">measure all images in a directory</a>
    <a class="dropdown-item" href="../articles/measure_single_image.html">Measure single images</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>measure all images in a directory</h1>
            
      
      
      <div class="d-none name"><code>measure_directory.Rmd</code></div>
    </div>

    
    
<p>This article explains how to measure whole directories or even
several directories containing images of daphnia. Measured directories
will receive a new subdirectory containing a csv file with all
measurements specified in the argument and optionally a copy of each
image with results plotted onto the image.</p>
<div class="section level3">
<h3 id="load-the-package">1. load the package<a class="anchor" aria-label="anchor" href="#load-the-package"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nelstevens.github.io/daphniaRuler">daphniaruler</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Trying to find python and conda</span></span>
<span><span class="co">#&gt; Trying to find conda environment 'daphniaRuler'</span></span>
<span><span class="co">#&gt; Activating conda environment 'daphniaruler'</span></span>
<span><span class="co">#&gt; done... have fun</span></span></code></pre></div>
<p>There should be no error messages when loading the package. In case
you experience issues see:<br><a href="https://nelstevens.github.io/daphniaRuler/articles/installation_issues.html" class="uri">https://nelstevens.github.io/daphniaRuler/articles/installation_issues.html</a></p>
</div>
<div class="section level3">
<h3 id="run-measure_directory">2. run measure_directory<a class="anchor" aria-label="anchor" href="#run-measure_directory"></a>
</h3>
<p>Run the function measure_directory. This function requires one
argument, which is the path to a directory containing images of daphnia
or a path to a directory containing subdirectories with images of
daphnia. The function also comes with three optional arguments:<br></p>
<ul>
<li>write_images</li>
<li>eye_method</li>
<li>scaling_factor</li>
</ul>
<p><strong>write_images</strong> expects a logical value. When TRUE each
measured image will be copied to a subdirectory named results. All
measured traits will be plotted onto those copies. This way one can easy
check whether the measurements seem accurate.<br></p>
<p><strong>find_eye</strong> expects a logical value. When TRUE the
daphniaruler will try to detect the eye of the daphnia in each image. If
successful there will be a measurement from the eye od the daphnia to
the base of the tail and additionally a line from the base of the tail
to the tip of the tail. This should be the most accurate way the measure
body size in daphnia.</p>
<p><strong>scaling_factor</strong> expects a logical value. When TRUE
the daphniaruler will search for a file titled Scale.txt in each
directory containing images. A template for this file can be found at:
<a href="https://github.com/nelstevens/The-Daphnia-ruler/blob/master/Scale.txt" class="external-link uri">https://github.com/nelstevens/The-Daphnia-ruler/blob/master/Scale.txt</a>.
The value specified in this file should correspond to the number of
pixels that correspond to 1 cm. For example if 98 pixels make 1 cm, NUM
should be replaced by 98. Note that if Scale.txt is missing in a
directory measure_directory will fail if scaling_factor = TRUE.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/measure_directory.html">measure_directory</a></span><span class="op">(</span></span>
<span>  <span class="st">"../inst/sample_images"</span>,</span>
<span>  write_images <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  eye_method <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scaling_factor <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="what-should-the-images-look-like">What should the images look like<a class="anchor" aria-label="anchor" href="#what-should-the-images-look-like"></a>
</h3>
<p>The images ideally only contain a single individual. if other
individuals are also present in an image only the largest individual
will be measured. For optimal results try to make images as sharp as
possible. Especially the outline of the specimen should be clearly
visible.</p>
</div>
<div class="section level3">
<h3 id="note-on-output-images">Note on output images<a class="anchor" aria-label="anchor" href="#note-on-output-images"></a>
</h3>
<p>Output images with measurements plotted over will be rescaled to
720*480p in order to save memory. However measurement outputs with
scaling_factor = NULL will correspond to pixels in the original image.
Thus measuring the drawn lines on output images with an image analysis
tool such as imageJ will show differing results.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nelson Stevens.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
